        -:    0:Source:D:/Project_mp/testfinal/libModbus/modbuserror.c
        -:    0:Programs:14
        -:    1:#include "../libModbus/ModbusTcp.h"
        -:    2:
        -:    3:void
       13:    4:modbusError (mbPacketParse_t *p_parseModbusTcpData, uint8_t*p_modbusTxBuf, unsigned char exceptioncode)
        -:    5:{
       13:    6:  p_modbusTxBuf[0] = p_parseModbusTcpData->transactionID.v[1];
       13:    7:  p_modbusTxBuf[1] = p_parseModbusTcpData->transactionID.v[0];
       13:    8:  p_modbusTxBuf[2] = p_parseModbusTcpData->protocolID.v[1];
       13:    9:  p_modbusTxBuf[3] = p_parseModbusTcpData->protocolID.v[0];
       13:   10:  p_modbusTxBuf[4] = 0X00;
       13:   11:  p_modbusTxBuf[5] = 0X03;
       13:   12:  p_modbusTxBuf[6] = p_parseModbusTcpData->unitID;
       13:   13:  p_modbusTxBuf[7] = p_parseModbusTcpData->functionCode;
       13:   14:  p_modbusTxBuf[8] = exceptioncode;
        -:   15:
       13:   16:}
