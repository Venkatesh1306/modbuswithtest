        -:    0:Source:D:/Project_mp/testfinal/Modbus1/modbuserror.c
        -:    0:Programs:14
        -:    1:#include "testingdata.h"
        -:    2:
       13:    3:void modbuserror(parse1 *parse, BYTE ModbusTcpTxBuf[], unsigned char exceptioncode) {
       13:    4:    ModbusTcpTxBuf[0] = parse->TransactionID.v[1];
       13:    5:    ModbusTcpTxBuf[1] = parse->TransactionID.v[0];
       13:    6:    ModbusTcpTxBuf[2] = parse->ProtocolID.v[1];
       13:    7:    ModbusTcpTxBuf[3] = parse->ProtocolID.v[0];
       13:    8:    ModbusTcpTxBuf[4] = 0X00;
       13:    9:    ModbusTcpTxBuf[5] = 0X03;
       13:   10:    ModbusTcpTxBuf[6] = parse->UnitID;
       13:   11:    ModbusTcpTxBuf[7] = parse->FunctionCode;
       13:   12:    ModbusTcpTxBuf[8] = exceptioncode;
        -:   13:
       13:   14:}
